**KATANA - Web Crawling**
Purpose: Intelligent web crawling to discover endpoints, paths, JavaScript files, and hidden functionality.

**Entry Decision**

| **IF:** Need to discover endpoints/paths on live web apps<br><br>**THEN:** Use KATANA for intelligent crawling |
| :------------------------------------------------------------------------------------------------------------- |
| **IF:** Need directory brute-forcing<br><br>**THEN:** Use GOBUSTER/FFUF instead (or in addition)               |

**Crawler Mode Selection**

| **Condition**      | **Action / Command**                                          |
| :----------------- | :------------------------------------------------------------ |
| Standard HTTP      | katana -u https://$TARGET -crawler standard                   |
| JavaScript parsing | katana -u https://$TARGET -js-crawl                           |
| Sitemap-based      | katana -u https://$TARGET -crawler sitemap                    |
| Robots.txt based   | katana -u https://$TARGET -crawler robots                     |
| All methods        | katana -u https://$TARGET -crawler standard,js,sitemap,robots |

**Depth and Scope Decisions**

| **Condition**      | **Action / Command**                          |
| :----------------- | :-------------------------------------------- |
| Shallow crawl      | katana -u https://$TARGET -depth 1            |
| Normal crawl       | katana -u https://$TARGET -depth 2 (default)  |
| Deep crawl         | katana -u https://$TARGET -depth 5            |
| Same domain only   | katana -u https://$TARGET -crawl-scope strict |
| Include subdomains | katana -u https://$TARGET -crawl-scope subs   |

**Resource Filtering**

| **Condition**    | **Action / Command**                                     |
| :--------------- | :------------------------------------------------------- |
| JavaScript files | katana -u https://$TARGET -extension js                  |
| Exclude images   | katana -u https://$TARGET -exclude-extension png,jpg,gif |
| API endpoints    | katana -u https://$TARGET -match-regex '/api/'           |
| Forms only       | katana -u https://$TARGET -form-fill                     |

**Performance Tuning**

| **Condition**        | **Action / Command**                                      |
| :------------------- | :-------------------------------------------------------- |
| Default              | katana -u https://$TARGET -concurrency 10                 |
| Aggressive           | katana -u https://$TARGET -concurrency 30 -rate-limit 100 |
| Careful (rate limit) | katana -u https://$TARGET -concurrency 5 -delay 500       |
| Limit URLs           | katana -u https://$TARGET -max-urls 1000                  |

**Pipeline Integration**

# Discover JS files for secret scanning

katana -u https://$TARGET -silent -extension js | nuclei -t exposures/

# Full path discovery

katana -u https://' | httpx -silent